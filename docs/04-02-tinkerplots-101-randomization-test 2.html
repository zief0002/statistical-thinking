<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TinkerPlots 101: Randomization Test – Statistical Thinking</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-732fb9ccd080a018ca85ca5d15770f52.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-219a36c0df74dffbcf349dcbf93ccb3d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="text/javascript">
// Function to toggle the visibility of solutions in exercises
function toggle_visibility(id) {
   var e = document.getElementById(id);
   if(e.style.display == 'block')
      e.style.display = 'none';
   else
      e.style.display = 'block';
}
</script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="assets/sticky-notes.css">
</head>

<body class="nav-sidebar floating fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04-00-comparing-groups.html">Comparing Groups</a></li><li class="breadcrumb-item"><a href="./04-02-tinkerplots-101-randomization-test.html">TinkerPlots 101: Randomization Test</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistical Thinking</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Front Matter</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./02-00-modeling-and-simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling &amp; Simulation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-01-cases-and-attributes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cases and Attributes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-02-tinkerplots-101-importing-data-and-plotting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TinkerPlots 101: Importing Data and Plotting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-03-randomness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Randomness</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-04-tinkerplots-101-generating-simulated-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TinkerPlots 101: Generating Simulated Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-06-monte-carlo-simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Monte Carlo Simulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-07-tinkerplots-101-collecting-summaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TinkerPlots 101: Collecting Summary Measures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03-00-evaluating-hypotheses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Evaluating Hypotheses</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-02-describing-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Describing Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-01-simulation-process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation Process for Evaluating Hypotheses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-03-standard-deviation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantifying Variation: The Standard Deviation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-04-range-of-likely-values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Range of Likely Values</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-05-generalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalization and Random Sampling</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./04-00-comparing-groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing Groups</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-01-experimental-variation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimental Variation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-02-tinkerplots-101-randomization-test.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">TinkerPlots 101: Randomization Test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-03-tinkerplots-101-data-structure-for-comparing-groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TinkerPlots 101: Data Structure For Comparing Groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-04-cause-and-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cause-and-Effect Inferences</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-05-bootstrap-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bootstrap Test: Modeling Sampling Variation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-06-modeling-variation-to-compare-groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Variation to Compare Groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-07-dummy-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Categorical Responses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-08-p-value.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantifying Evidence Against the Null Hypothesis: p-Value</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04-00-comparing-groups.html">Comparing Groups</a></li><li class="breadcrumb-item"><a href="./04-02-tinkerplots-101-randomization-test.html">TinkerPlots 101: Randomization Test</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">TinkerPlots 101: Randomization Test</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The hypothesis test we perform to evaluate group differences is referred to as a <strong>randomization test</strong>. In this test, we are going to model experimental variation assuming the null hypothesis that there is no effect of treatment on the outcome is true. Using that model, we will replicate the random assignment of subjects (and their outcome value) to the two conditions/groups. Based on that re-randomization to groups we will calculate and record a measure of how different the conditions are on the outcome (e.g., calculate the difference in means). We will repeat this re-randomization and summarization a large number of times. This will give us a sense for the experiemental variation (i.e., the variation that is expected in the differences just because of random assignment).</p>
<p>To illustrate how to use TinkerPlots to carry out a randomization test, we will again visit our example from the previous reading:</p>
<blockquote class="blockquote">
<p>Dr.&nbsp;Bunsen Honeydew wants to evaluate the effects of a magic bean that he hypothesizes will help people grow faster. He plans to evaluate this by carrying out a statistical experiment in which he will randomly assign six subjects he has recruited to two groups. The people in the first group will be given the magic bean (treatment group) and the people in the second group will not be given the magic bean (control group). After a year, he will measure the heights of people in both groups and compare their means to evaluate whether the magic bean impacted the treatment group’s heights.</p>
</blockquote>
<p><br></p>
<section id="observed-data" class="level2">
<h2 class="anchored" data-anchor-id="observed-data">Observed Data</h2>
<p><a href="#fig-ra1" class="quarto-xref">Figure&nbsp;<span>1</span></a> shows the random assignment of the six people in the sample to the treatment and control groups and the results of Dr.&nbsp;Honeydew’s study. The people in the treatment group grew on average 3.70 inches over the course of the year and those in the control group grew on average 2.63 inches over the course of the year.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ra1" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The six people in the sample are randomly assigned to two groups. The mean growth for people in the treatment group was 3.70 inches and that for the control group was 2.63 inches." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ra1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-01-01-random-assignment1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="The six people in the sample are randomly assigned to two groups. The mean growth for people in the treatment group was 3.70 inches and that for the control group was 2.63 inches.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ra1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The six people in the sample are randomly assigned to two groups. The mean growth for people in the treatment group was 3.70 inches and that for the control group was 2.63 inches.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The people in the treatment group who consumed the magic bean grew 1.07 inches more than the people in the control group did. To get that we used:</p>
<p><span class="math display">\[
\begin{split}
\text{Difference} &amp;= \bar{x}_{t} - \bar{x}_c\\
&amp;= 3.70 - 2.63 \\
&amp;= 1.07
\end{split}
\]</span></p>
<p>In this equation, <span class="math inline">\(\bar{x}_t\)</span> is the mean growth for the treatment group and <span class="math inline">\(\bar{x}_c\)</span> is the mean growth for the control group.</p>
<p><br></p>
</section>
<section id="statistical-hypotheses-for-comparing-groups" class="level2">
<h2 class="anchored" data-anchor-id="statistical-hypotheses-for-comparing-groups">Statistical Hypotheses for Comparing Groups</h2>
<p>The two explanations we have for people’s growth constitute the statistical hypotheses, namely that (1) the treatment adds to peoples natural growth, or (2) it doesn’t. Writing these hypotheses:</p>
<p><span class="math display">\[
\begin{split}
H_0:&amp;~ \text{There is no effect of treatment (magic bean) on peoples’ growth.}\\
H_A:&amp;~ \text{There is an effect of treatment (magic bean) on peoples’ growth.}
\end{split}
\]</span></p>
<p>Remember that if there is no effect of treatment, then on average, the difference between the means for the two groups is 0. So another way we can write the statistical hypothesis is in terms of this difference. Here we write the hypotheses using the language of mathematics:</p>
<p><span class="math display">\[
\begin{split}
H_0:&amp;~ \mu_t - \mu_c = 0\\
H_A:&amp;~ \mu_t - \mu_c &gt; 0
\end{split}
\]</span></p>
<p><br></p>
</section>
<section id="model" class="level2">
<h2 class="anchored" data-anchor-id="model">Model</h2>
<p>In order to carry out a randomization test using TinkerPlots, you need to include two sampling devices in the sampler. The first sampling device will include the observed response data for all of the subjects. The second device will contain the observed grouping data (i.e., the conditions) for all of the subjects. In our example, the reponses are the amount of growth each person exhibited, and the group/condition data are the conditions of “Bean” (treatment) and “No Bean” (control).</p>
<ul>
<li><em>Responses Data</em>: 5.0, 2.9, 3.2, 2.7, 2.1, 3.1</li>
<li><em>Grouping Data</em>: Bean, Bean, Bean, No Bean, No Bean, No Bean</li>
</ul>
<p>Note that since we need to have a response and group for each participant, there should be 6 total responses and 6 total groups. In TinkerPlots, we will begin by setting up a sampler that includes a Mixer containing the response data for the 6 subjects. We will also change how the mixer samples elements. All of our sampling devices to date in this class have been <strong>sampling with replacement</strong>—that is the exact same element can be sampled over and over. This is appropriate when we are modeling sampling variation. But when modeling experimental variation, we are trying to mimic the random assignment to different groups, and people are only assinged to a group one time. To mimic this we need to <strong>sample without replacement</strong>.</p>
<ul>
<li>You can change how the sampling device samples elements by clicking on the <code>Device Options</code> button for the sampling device (upside-down triangle below the device).</li>
<li>To sample with replacement select <code>Replacement &gt; Without Replacement</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-responses" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values). To mimic random assignment we will sample elements without replacement." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-responses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-01-mixer.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values). To mimic random assignment we will sample elements without replacement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-responses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values). To mimic random assignment we will sample elements without replacement.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="protip">
<p><strong>PROTIP</strong></p>
<p>To tell whether you are sampling with or without replacement, you can look at the top of the sampling device. If the top of the sampling device is capped, then the device is sampling with replacement. If the top of the sampling device is open, then the device is sampling without replacement.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-replacement-or-not" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values). To mimic random assignment we will sample elements without replacement." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-replacement-or-not-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-02-protip.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values). To mimic random assignment we will sample elements without replacement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-replacement-or-not-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: If the top of the sampling device is capped, then the device is sampling with replacement. If the top of the sampling device is open, then the device is sampling without replacement.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>In addition to randomly generating the response values, we also need to randomly generate the group that the value will be randomly assigned to. To do this, we will link a second sampling device to the mixer. (This is similar to the sampler you worked with in the Pet Factory activity which had multiple linked samplers.) A good sampling device to use for the groups is a Stacks device. To add a linked Stacks sampling device to your sampler:</p>
<ul>
<li>Drag a Stacks sampling device from the device menu to the <strong>right-hand side</strong> of the existing mixer. The sampler should now contain two devices linked by a grey line.</li>
<li>Add the names of the possible conditions/groups as elements. (In our example there are two elements–“Bean” and “No Bean”)</li>
<li>Click on Stacks <code>Device Options</code> (upside-down triangle below the sampling device) and select <code>Show Count</code>. Change the count value for the “Bean” label to reflect the number of participants originally assigned to the magic bean condition (in our example this is 3). Change the count value for the “No Bean” label to reflect the number of participants originally assigned to the control condition (again, this is 3 in our example).</li>
<li>Change the device to sample values without replacement.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-responses-groups" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values) and a linked stacks device containing the six group labels. To mimic random assignment we sample elements without replacement in both devices." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-responses-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-03-mixer-stacks.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" alt="A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values) and a linked stacks device containing the six group labels. To mimic random assignment we sample elements without replacement in both devices.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-responses-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: A TinkerPlots sampler including a mixer containing the six responses (i.e., growth values) and a linked stacks device containing the six group labels. To mimic random assignment we sample elements without replacement in both devices.
</figcaption>
</figure>
</div>
</div>
</div>
<p>To model the random assignment of the treatment condition labels that might have occurred, you need to produce simulated data from another model that generates labels of JFK and JFKC. To do this you will use the Stacks sampling device. We also need to include this sampling device in the same Sampler as the outcomes. To do this, you link multiple sampling devices in the same sampler the same way you did in the Cat Factory course activity.</p>
<div class="protip">
<p><strong>FYI</strong></p>
<p>When you add a second sampling device, the <code>Draw</code> value will automatically change to the number of devices included in the sampler. Double-check that it is 2 when you have two sampling devices.</p>
</div>
</section>
<section id="simulate-first-trial" class="level2">
<h2 class="anchored" data-anchor-id="simulate-first-trial">Simulate: First Trial</h2>
<p>Once the sampler has been set up, the <code>Run</code> Button can be clicked to carry out the first simulated random assignment. The outcomes from both linked devices are recorded in the case table, each in their own attribute. In addition, an attribute called <code>Join</code> is also created that includes the outcomes of both linked devices separated by a comma. (We will ignore this column!)</p>
<p>As with every simulation we have done, we will plot the simulated data from this first trial and compute a summary measure, which for our example is the difference in means. To plot the data we will drag the response attribute (growth values) to the <em>x</em>-axis of the plot. This should be fully separated and stacked. Then, the group/condition attribute can be dragged to the <em>y</em>-axis of the plot. Finally, the averages can be added to the plot along with their numeric values in the same manner as in previous simulations.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-plot-groups" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The plot of the simulated data from the first trial. Averages and their numeric values are also displayed on the plot." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-plot-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-04-plot-simulated-data.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" alt="The plot of the simulated data from the first trial. Averages and their numeric values are also displayed on the plot.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: The plot of the simulated data from the first trial. Averages and their numeric values are also displayed on the plot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>At this point we could calculate the difference in means (subtracting in the same order as we did for the observed data), but we want to have TinkerPlots automate this, so we are going to collect both means. Remember, to collect a mean we right-click on the mean triangle and select <code>Collect Statistic</code>. Once the mean has been added to the case table, collect the other mean as well. Now you should have both the “Bean” and “No Bean” means in a case table o in the same row (but in different columns).</p>
<p>To compute the difference in means we will use the <code>Formula Editor</code>. To do this:</p>
<ul>
<li>Create a third attribute (column) in the case table by clicking the column name, <code>&lt;new&gt;</code>. Rename this attribute “Difference”</li>
<li>Select the “Difference” attribute to highlight it and then right-click the attribute and select <code>Edit Formula</code>.</li>
<li>Select the <code>Attribute</code> triangle to display the names of the case table’s attributes in the <code>Formula Editor</code>.</li>
<li>Double-click the attribute for the “Bean” groups mean value. Then click the subtraction key (<code>–</code>) in the <code>Formula Editor</code> calculator. Finally, double-click the attribute for the “No Bean” group’s mean value.</li>
<li>Click the <code>Apply</code> button and then click <code>OK</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-collected-differences" class="quarto-float quarto-figure quarto-figure-center anchored" alt="LEFT: The formula editor showing the subtraction to find the difference in means. RIGHT: The case table where the means were collected also now includes the difference in means." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-collected-differences-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-05-summary.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="LEFT: The formula editor showing the subtraction to find the difference in means. RIGHT: The case table where the means were collected also now includes the difference in means.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-collected-differences-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: LEFT: The formula editor showing the subtraction to find the difference in means. RIGHT: The case table where the means were collected also now includes the difference in means.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on this simulated random assignment,, the difference in means is <span class="math inline">\(-1.2\)</span>.</p>
<p><br></p>
</section>
<section id="simulate-collect-results-from-additional-trials" class="level2">
<h2 class="anchored" data-anchor-id="simulate-collect-results-from-additional-trials">Simulate: Collect Results from Additional Trials</h2>
<p>Once you have collected the means and used the <code>Formula Editor</code> to compute the difference, click the <code>Run</code> button on your sampler again. This should add another set of means and their difference to your case table. Click <code>Run</code> a couple times to be sure that the simulation is working. Once you are convinced the simulation is working properly, collect the difference in means for additional trials so tyhat you have 500 total differences.</p>
<p>Once you have the 500 simulated differences, we can plot them and also compute the standard error to quantify the amount of experimental variation. After plotting them, we should do a spot check that the average is near 0. (Recall that 0 is the expected value of the difference underthe null hypothesis and that the plot should be centered at the expected value.)</p>
<p>In our example, the standard error is 0.7868. We can use this to compue the range of likely values:</p>
<p><span class="math display">\[
\begin{split}
\text{Range of Likely Values} &amp;= \text{Expected Value} \pm 2(SE) \\
&amp;= 0 \pm 2(0.7868) \\
&amp;= -1.57~\text{to}~1.57
\end{split}
\]</span></p>
<p>That is:</p>
<blockquote class="blockquote">
<p>If the null hypothesis is true (and there is no effect of the magic bean), we expect to see a difference in means of between <span class="math inline">\(-1.57\)</span> and 1.57.</p>
</blockquote>
<p>We can also display this range of likely values on our plot using the divider tool.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-se-plot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="LEFT: The formula editor showing the subtraction to find the difference in means. RIGHT: The case table where the means were collected also now includes the difference in means." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-se-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/04-02-06-se-and-plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="LEFT: The formula editor showing the subtraction to find the difference in means. RIGHT: The case table where the means were collected also now includes the difference in means.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-se-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: LEFT: The formula editor is used to calculate the standard error. RIGHT: The plot of simulated differences is centered at 0 and the range of likely values is added with a divider.
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="evaluate" class="level2">
<h2 class="anchored" data-anchor-id="evaluate">Evaluate</h2>
<p>Finally, we can evaluate our observed difference in means (which was 1.07) using our range of likely values to make a decision about the null hypothesis and answer our research question. In our example, the observed difference of 1.07 is within the range of likely values which implies we would fail to reject the null hypothesis; we conclude that there is no difference in the mean growth between the magic bean group and the no magic bean group. In other words, there is no evidence to support that the magic bean is contributing to people’s growth.</p>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>